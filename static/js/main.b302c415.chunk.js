(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,o){},16:function(e,t,o){},18:function(e,t,o){"use strict";o.r(t);var a=o(0),n=o.n(a),i=o(2),l=o.n(i),r=(o(14),o(3)),s=o(4),u=o(6),h=o(5),d=o(7),c=(o(16),["Kaliningrad","Volgograd","Novokuznetsk","Novosibirsk","Vlidicostok","Tomsk","Omsk","Alexandrovsk","Georgiyevsk","Kadnikov","Muravlenko","Nevinnomyssk","Minsk","Pinsk","Stalingrad","Ussuriysk","Valday","Verkhneuralsk","Yemanzhelinsk","Zheleznodorozhny","Zmeinogorsk","Svetlogorsk","Raychikhinsk","Pokhvistnevo","Ostrogozhsk","Lakhdenpokhya","Krasnoznamensk"]),y=c[Math.floor(Math.random()*c.length)],g=["Death is the solution to all problems. No man - no problem.","Those who vote decide nothing. Those who count the vote decide everything.","A single death is a tragedy; a million deaths is a statistic.","The death of one man is a tragedy. The death of millions is a statistic.","Education is a weapon, whose effect depends on who holds it in his hands and at whom it is aimed.","I believe in one thing only, the power of the human will.","The only real power comes out of a long rifle.","In the Soviet army it takes more courage to retreat than advance.","The Pope! How many divisions has he got?","History shows that there are no invincible armies.","Everyone imposes his own system as far as his army can reach.","Ideas are more powerful than guns. We would not let our enemies have guns, why should we let them have ideas.","When we hang the capitalists they will sell us the rope we use.","I trust no one, not even myself.","Gratitude is a sickness suffered by dogs.","A sincere diplomat is like dry water or wooden iron.","Everybody has a right to be stupid, but some people abuse the privilege.","A lot of times, I can turn and pass without even looking.","The only way a kid is going to practise is if it's total fun for him... and it was for me.","Die, but do not retreat.","A man's eyes should be torn out if he can only see the past.","Do you remember the tsar? Well, I\u2018m like a tsar.","In war I would deal with the Devil and his grandmother.","Artillery is the god of war.","In the future, there will be fewer but better Russians.","You know, they are fooling us, there is no God.","It is not heroes that make history, but history that makes heroes.","When you chop wood, splinters fly."],v=function(e){function t(){var e,o;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(o=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={log:[],quarter:1,population:Math.round(10*Math.random())+45,vault:1250,wallet:0,unity:Math.round(5*Math.random())+95},o.stalinWhen=function(){return 5-o.state.quarter%5===5?"now":"in "+(5-o.state.quarter%5)},o.armyWhen=function(){return 3-o.state.quarter%3===3?"now":"in "+(3-o.state.quarter%3)},o.main=function(){var e=o.clone(o.state);if(e.vault+=Math.floor(2.1*e.population*(e.unity+5)/100),o.setState({vault:e.vault}),e.quarter%3===0){o.saveToLog("The army has arrived!","blue");var t=Math.round(8*Math.random()+10);o.saveToLog("The army consists of "+t+" soldiers.");var a=Math.floor(t*(e.population/75));e.vault<a?(o.saveToLog("The army pillaged the vault. They found too little inside."),o.saveToLog("Instead, they decided to steal from the people. -15% unity!","red"),e.unity=e.unity-15,o.setState({unity:e.unity})):(o.saveToLog("The army has stolen "+a+" from the vault. -"+a+" rubles!","red"),e.vault=e.vault-a,o.setState({vault:e.vault})),e.wallet<100?(o.saveToLog("The army noticed that you had basically no money. You accept an offer to be given 100 rubles."),o.saveToLog("The army then proceeds to terrorize your town. -10% unity!","red"),e.unity=e.unity-10,e.wallet=e.wallet+100,o.setState({unity:e.unity}),o.setState({wallet:e.wallet})):e.wallet>2e3?(o.saveToLog("The army noticed that you had a large amount of money."),o.saveToLog("They steal a third of your wealth. -"+Math.floor(e.wallet/3)+" rubles!"),e.wallet=2*e.wallet,e.wallet=Math.floor(e.wallet/3),o.setState({wallet:e.wallet})):o.saveToLog("You yourself weren't poor or rich so the army left you alone.")}e.quarter%5===0&&(o.saveToLog("Stalin has arrived!","blue"),e.wallet>1e3&&o.askToLog("Stalin noticed your bulging wallet. ","red",["Try to run."],function(t){o.askToLog("You cannot run. ","red",["Try to hide."],function(t){o.askToLog("You cannot hide. ","red",["****"],function(t){o.askToLog("I am always watching. ","red",["Help!"],function(t){o.askToLog("You do not lament the loss of hair of one who has been beheaded. ","red",["No!"],function(t){o.askToLog("You have been beheaded. They do not lament your loss of hair. ","red",["..."],function(t){5===e.quarter?(o.saveToLog("Found a secret ending!","yellow"),o.askToLog("You managed to get killed the first time Stalin arrived.","green",["Yay!"],function(e){o.finishGame()})):o.finishGame()})})})})})}),e.vault<0&&(o.saveToLog("Stalin is angry with you for going into debt. He kills half the population.","red"),e.population=Math.floor(e.population/2),o.setState({population:e.population})),o.saveToLog(g[Math.floor(Math.random()*g.length)],"yellow"),o.saveToLog("His incredible speech increased unity by 15%!","green"),e.unity=e.unity+15,o.setState({unity:e.unity}),0===Math.floor(5*Math.random())?o.saveToLog("In fact, it was so great it completely ignored the 100% maximum for unity!","green"):e.unity>100&&(e.unity=100,o.setState({unity:100})),"Stalingrad"===y&&(o.saveToLog("Stalin thinks you run a very nice town and gives you lots of money. +400 rubles!","green"),e.wallet=e.wallet+400,o.setState({wallet:e.wallet}))),o.saveToLog(Math.floor(2.1*e.population*(e.unity+5)/100)+" newly taxed rubles adorn the floor of your vault.","green"),e.wallet>=10?(e.wallet-=10,o.setState({wallet:e.wallet}),o.saveToLog("10 rubles taken from your wallet to afford commodities.")):(o.saveToLog("An inability to afford commodities makes you sad, reducing unity. -2% unity!","red"),e.unity-=2,o.setState({unity:e.unity})),o.askToLog("How many rubles to give per person? ","blue",[0,1,2,3,4,5],function(t){if(e.vault-=t*e.population,e.vault=Math.floor(e.vault),o.setState({vault:e.vault}),o.saveToLog("Distributed a total of "+Math.floor(t*e.population)+" to the town ("+t+" rubles per, to "+e.population+" people)."),0===t){var a=Math.round(3*Math.random());0===a?o.saveToLog("What the?! You literally gave them nothing! -13% unity!","red"):1===a?o.saveToLog("Um... Was that a typo? You didn't give them anything... -13% unity!","red"):2===a?o.saveToLog("I guess you don't love them enough to give them even a ruble. -13% unity!","red"):o.saveToLog("Well, I won't fight you on the decision not to give them anything. -13% unity!","red"),e.unity-=13,o.setState({unity:e.unity})}else 1===t?(o.saveToLog("You call this equality?! You're giving them less than 2 cents a pop! -9% unity!","red"),e.unity-=9,o.setState({unity:e.unity})):2===t?0!==Math.round(5*Math.random())?o.saveToLog("Your people didn't care that you payed them so little.","green"):(o.saveToLog("The commoners became angry and decided to steal from the vault. -"+Math.floor(5*e.vault/100)+" rubles and -5% unity!","red"),e.unity-=5,e.vault*=95,e.vault/=100,e.vault=Math.floor(e.vault),o.setState({unity:e.unity}),o.setState({vault:e.vault})):3===t?0!==Math.round(7*Math.random())?o.saveToLog("You payed your people little, but they got by.","green"):(o.saveToLog("Your people demanded more than this. -"+Math.floor(3*e.vault/100)+" rubles and -4% unity!","red"),e.unity-=4,e.vault*=97,e.vault/=100,e.vault=Math.floor(e.vault),o.setState({unity:e.unity}),o.setState({vault:e.vault})):5===t?(o.saveToLog("You are giving the people what they want! +10% unity!","green"),e.unity+10<=100?(e.unity+=10,o.setState({unity:e.unity})):e.unity<100&&(e.unity=100,o.setState({unity:100}))):o.saveToLog("You payed your people an acceptable amount.","green");t>1?(e.population*=9,e.population/=8,e.population=Math.floor(e.population),o.setState({population:e.population}),o.saveToLog("Your town's population increased by a good amount.","green")):1===t?(o.saveToLog("Your town's population increased by a small amount."),e.population*=13,e.population/=12,e.population=Math.floor(e.population),o.setState({population:e.population})):(e.population*=7,e.population/=8,e.population=Math.floor(e.population),o.setState({population:e.population}),o.saveToLog("Your town's population decreased by a good (or bad, depends) amount.","red")),o.askToLog("How many rubles to take for yourself? ","blue",[0,10,30,50,100,110,200,400,650],function(t){t>0&&t<=e.vault?(t>600&&(o.saveToLog("You cannot take over 600 rubles at once."),t=600),e.vault-=t,e.wallet+=t,o.setState({vault:e.vault}),o.setState({wallet:e.wallet}),o.saveToLog("You took "+t+" rubles.","green")):0===t?o.saveToLog("You didn't take any money."):t>e.vault&&(o.saveToLog("You can't take more money than there is (duh). Your people think you're stupid. -10% unity!","red"),e.unity-=10,o.setState({unity:e.unity})),t<50&&(o.saveToLog("You took less than 50 rubles as income. The people like this. +3% unity!","green"),e.unity+3<=100?(e.unity+=3,o.setState({unity:e.unity})):e.unity<100&&(e.unity=100,o.setState({unity:100}))),e.vault<0&&(o.saveToLog(y+" is in debt. The people don't like this, and beware of Stalin! -5% unity!","red"),e.unity-=5,o.setState({unity:e.unity})),e.wallet>=3e3?o.askToLog("Do you want to finish the game?","blue",["Yes","No"],function(t){return"Yes"===t?e.unity<=50?(o.saveToLog("Found a secret ending!","yellow"),void o.askToLog("Your people chased you to the airport, but you managed to escape.","green",["Yay!"],function(e){o.finishGame()})):e.wallet>=1e5?(o.saveToLog("Found a secret ending!","yellow"),void o.askToLog("You decided to fly to America and buy a mansion with your endless riches.","green",["Yay!"],function(e){o.finishGame()})):e.population>=1e5?(o.saveToLog("Found a secret ending!","yellow"),void o.askToLog("You got your entire town to follow you on BaceFook; who needs to leave Russia?","green",["Yay!"],function(e){o.finishGame()})):void o.askToLog("You escaped to Czechoslovakia somehow. It's a normal ending for a normal person.","green",["Yay!"],function(e){o.finishGame()}):void o.askToLog("Cool.","yellow",["Continue"],function(t){e.quarter+=1,o.setState({quarter:e.quarter}),o.setState({log:[]},function(){o.main()})})}):e.unity<=50?o.askToLog("Proceed to die.","yellow",["Proceed"],function(e){o.askToLog("The people revolted! You were killed...","red",["Dang it."],function(e){o.finishGame()})}):o.askToLog("Cool.","yellow",["Continue"],function(t){e.quarter+=1,o.setState({quarter:e.quarter}),o.setState({log:[]},function(){o.main()})})})})},o.finishGame=function(){o.setState({log:[]},function(){o.saveToLog("Game finished!")})},o.saveToLog=function(e,t){var a=o.state.log;a[a.length]=[e,t],o.setState({log:a})},o.askToLog=function(e,t,a,n){var i=o.clone(o.state.log);i[i.length]=[e,t,a,n],o.setState({log:i})},o.printLog=function(){for(var e=o.clone(o.state.log),t=[],a=0;a<e.length;a++){a===e.length-1?e[a][1]="LastPrint "+e[a][1]:e[a][1]="NormPrint "+e[a][1];var i="FullWidthDiv";a%2===0&&(i+=" lightBack"),void 0===e[a][2]?t[a]=n.a.createElement("div",{className:i,key:a},n.a.createElement("p",{className:e[a][1]},e[a][0])):void 0===e[a][4]?t[a]=n.a.createElement("div",{className:i,key:a},n.a.createElement("p",{className:e[a][1]},e[a][0]),n.a.createElement("div",{className:"ButtonDiv"},o.getOptions(e[a][2]))):t[a]=n.a.createElement("div",{className:i,key:a},n.a.createElement("p",{className:e[a][1]},e[a][0]),n.a.createElement("div",{className:"ButtonDiv"},n.a.createElement("p",{className:"ButtonChosen"},e[a][4])))}return n.a.createElement(n.a.Fragment,null,t)},o.optionChosen=function(e){var t=o.clone(o.state.log),a=e.target.value;t[t.length-1][4]=t[t.length-1][2][a],o.setState({log:t},function(){(0,t[t.length-1][3])(t[t.length-1][2][a])})},o}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.main()}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("div",{id:"TopDiv"},n.a.createElement("div",{id:"QuarterDiv"},n.a.createElement("h1",{className:"blue"},"QUARTER ",this.state.quarter),n.a.createElement("p",{className:"yellow"},y),n.a.createElement("p",{className:"yellow"},"pop. ",this.state.population)),n.a.createElement("div",{id:"StatsDiv"},n.a.createElement("p",{className:"yellow"},"Vault: ",this.state.vault),n.a.createElement("p",{className:"yellow"},"Wallet: ",this.state.wallet),n.a.createElement("p",{className:"yellow"},"Unity: ",this.state.unity,"%"),n.a.createElement("p",{className:"yellow"},"Stalin ",this.stalinWhen(),", Army ",this.armyWhen()))),n.a.createElement("div",{id:"PrintLog"},this.printLog()))}},{key:"clone",value:function(e){var t;if(null==e||"object"!=typeof e)return e;if(e instanceof Array){t=[];for(var o=0,a=e.length;o<a;o++)t[o]=this.clone(e[o]);return t}if(e instanceof Object){for(var n in t={},e)e.hasOwnProperty(n)&&(t[n]=this.clone(e[n]));return t}throw new Error("Unable to copy obj; type isn't supported.")}},{key:"getOptions",value:function(e){for(var t=[],o=0;o<e.length;o++)t[o]=n.a.createElement("button",{className:"btn",onClick:this.optionChosen,key:o,value:o},String(e[o]));return n.a.createElement(n.a.Fragment,null,t)}}]),t}(a.Component),p=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function m(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var o=e.installing;null!=o&&(o.onstatechange=function(){"installed"===o.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(n.a.createElement(v,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/commsim",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/commsim","/service-worker.js");p?(function(e,t){fetch(e).then(function(o){var a=o.headers.get("content-type");404===o.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):m(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):m(t,e)})}}()},8:function(e,t,o){e.exports=o(18)}},[[8,2,1]]]);
//# sourceMappingURL=main.b302c415.chunk.js.map